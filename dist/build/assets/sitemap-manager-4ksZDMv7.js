import{S as n}from"./sweetalert2.all-BMSO4JEF.js";import"./_commonjsHelpers-BosuxZz1.js";document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("regenerateSitemapButton");o&&o.addEventListener("click",r);async function r(a){a.preventDefault();const t=a.currentTarget,s=t.innerHTML;try{t.disabled=!0,t.innerHTML='<i class="ti ti-loader ti-spin me-1"></i> جاري التحديث...',await n.fire({title:"جاري إعادة إنشاء خريطة الموقع",html:"يرجى الانتظار...",allowOutsideClick:!1,didOpen:()=>{n.showLoading()}});const e=await fetch("/dashboard/sitemap/generate",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"application/json",Accept:"application/json"}}),i=await e.json();if(!e.ok)throw new Error(i.message||`خطأ في الاتصال: ${e.status}`);await n.fire({title:"نجاح",text:i.message||"تم إعادة إنشاء الخرائط بنجاح.",icon:"success",confirmButtonText:"حسناً"}),window.location.reload()}catch(e){console.error("Error:",e),await n.fire({title:"خطأ",text:e.message||"حدث خطأ غير متوقع",icon:"error",confirmButtonText:"حسناً"})}finally{t.disabled=!1,t.innerHTML=s}}});
