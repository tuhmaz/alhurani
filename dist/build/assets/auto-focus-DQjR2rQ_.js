import{l as c}from"./index-kaQ-QNvg.js";var f={exports:{}},h={},p={exports:{}},g={},m=c,a=function(o,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},a(o,t)};function _(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var y=function(o){_(t,o);function t(e){var n=o.call(this,e)||this;return n.statuses=new Map,n.opts=Object.assign({},{onStatusChanged:function(){}},e),n.elementValidatingHandler=n.onElementValidating.bind(n),n.elementValidatedHandler=n.onElementValidated.bind(n),n.elementNotValidatedHandler=n.onElementNotValidated.bind(n),n.elementIgnoredHandler=n.onElementIgnored.bind(n),n.fieldAddedHandler=n.onFieldAdded.bind(n),n.fieldRemovedHandler=n.onFieldRemoved.bind(n),n}return t.prototype.install=function(){this.core.on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler)},t.prototype.uninstall=function(){this.statuses.clear(),this.core.off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)},t.prototype.areFieldsValid=function(){return Array.from(this.statuses.values()).every(function(e){return e==="Valid"||e==="NotValidated"||e==="Ignored"})},t.prototype.getStatuses=function(){return this.isEnabled?this.statuses:new Map},t.prototype.onFieldAdded=function(e){this.statuses.set(e.field,"NotValidated")},t.prototype.onFieldRemoved=function(e){this.statuses.has(e.field)&&this.statuses.delete(e.field),this.handleStatusChanged(this.areFieldsValid())},t.prototype.onElementValidating=function(e){this.statuses.set(e.field,"Validating"),this.handleStatusChanged(!1)},t.prototype.onElementValidated=function(e){this.statuses.set(e.field,e.valid?"Valid":"Invalid"),e.valid?this.handleStatusChanged(this.areFieldsValid()):this.handleStatusChanged(!1)},t.prototype.onElementNotValidated=function(e){this.statuses.set(e.field,"NotValidated"),this.handleStatusChanged(!1)},t.prototype.onElementIgnored=function(e){this.statuses.set(e.field,"Ignored"),this.handleStatusChanged(this.areFieldsValid())},t.prototype.handleStatusChanged=function(e){this.isEnabled&&this.opts.onStatusChanged(e)},t}(m.Plugin);g.FieldStatus=y;p.exports=g;var F=p.exports,S=c,V=F,r=function(o,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},r(o,t)};function E(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var I=function(o){E(t,o);function t(e){var n=o.call(this,e)||this;return n.opts=Object.assign({},{onPrefocus:function(){}},e),n.invalidFormHandler=n.onFormInvalid.bind(n),n}return t.prototype.install=function(){this.core.on("core.form.invalid",this.invalidFormHandler).registerPlugin(t.FIELD_STATUS_PLUGIN,new V.FieldStatus)},t.prototype.uninstall=function(){this.core.off("core.form.invalid",this.invalidFormHandler).deregisterPlugin(t.FIELD_STATUS_PLUGIN)},t.prototype.onEnabled=function(){this.core.enablePlugin(t.FIELD_STATUS_PLUGIN)},t.prototype.onDisabled=function(){this.core.disablePlugin(t.FIELD_STATUS_PLUGIN)},t.prototype.onFormInvalid=function(){if(this.isEnabled){var e=this.core.getPlugin(t.FIELD_STATUS_PLUGIN),n=e.getStatuses(),i=Object.keys(this.core.getFields()).filter(function(v){return n.get(v)==="Invalid"});if(i.length>0){var l=i[0],s=this.core.getElements(l);if(s.length>0){var d=s[0],u={firstElement:d,field:l};this.core.emit("plugins.autofocus.prefocus",u),this.opts.onPrefocus(u),d.focus()}}}},t.FIELD_STATUS_PLUGIN="___autoFocusFieldStatus",t}(S.Plugin);h.AutoFocus=I;f.exports=h;var H=f.exports;try{FormValidation.plugins.AutoFocus=H.AutoFocus}catch{}
